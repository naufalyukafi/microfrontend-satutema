(self.webpackChunkumkm_theme=self.webpackChunkumkm_theme||[]).push([[255],{3255:(e,r,t)=>{t.d(r,{ZP:()=>u});var n=t(9619),a=t(3100),i=t(4729);const s={dedupe:!0},u=(i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_}),(0,i.s6)(((e,r,t)=>{const{cache:u,compare:o,suspense:c,fallbackData:d,revalidateOnMount:l,revalidateIfStale:f,refreshInterval:g,refreshWhenHidden:E,refreshWhenOffline:R,keepPreviousData:V}=t,[h,k,m]=i.DY.get(u),[T,L]=(0,i.qC)(e),_=(0,n.useRef)(!1),b=(0,n.useRef)(!1),p=(0,n.useRef)(T),w=(0,n.useRef)(r),C=(0,n.useRef)(t),O=()=>C.current,v=()=>O().isVisible()&&O().isOnline(),[D,I,N,y]=(0,i.JN)(u,T),P=(0,n.useRef)({}).current,S=(0,i.o8)(d)?t.fallback[T]:d,j=(e,r)=>{for(const t in P){const n=t;if("data"===n){if(!o(e[n],r[n])){if(!(0,i.o8)(e[n]))return!1;if(!o(x,r[n]))return!1}}else if(r[n]!==e[n])return!1}return!0},A=(0,n.useMemo)((()=>{const e=!!T&&!!r&&((0,i.o8)(l)?!O().isPaused()&&!c&&(!!(0,i.o8)(f)||f):l),t=r=>{const t=(0,i.PM)(r);return delete t._k,e?{isValidating:!0,isLoading:!0,...t}:t},n=D(),a=y(),s=t(n),u=n===a?s:t(a);let o=s;return[()=>{const e=t(D());return j(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>u]}),[u,T]),M=(0,a.useSyncExternalStore)((0,n.useCallback)((e=>N(T,((r,t)=>{j(t,r)||e()}))),[u,T]),A[0],A[1]),W=!_.current,F=h[T]&&h[T].length>0,q=M.data,J=(0,i.o8)(q)?S:q,U=M.error,$=(0,n.useRef)(J),x=V?(0,i.o8)(q)?$.current:q:J,B=!(F&&!(0,i.o8)(U))&&(W&&!(0,i.o8)(l)?l:!O().isPaused()&&(c?!(0,i.o8)(J)&&f:(0,i.o8)(J)||f)),H=!!(T&&r&&W&&B),Y=(0,i.o8)(M.isValidating)?H:M.isValidating,Z=(0,i.o8)(M.isLoading)?H:M.isLoading,z=(0,n.useCallback)((async e=>{const r=w.current;if(!T||!r||b.current||O().isPaused())return!1;let n,a,s=!0;const u=e||{},c=!m[T]||!u.dedupe,d=()=>i.w6?!b.current&&T===p.current&&_.current:T===p.current,l={isValidating:!1,isLoading:!1},f=()=>{I(l)},g=()=>{const e=m[T];e&&e[1]===a&&delete m[T]},E={isValidating:!0};(0,i.o8)(D().data)&&(E.isLoading=!0);try{if(c&&(I(E),t.loadingTimeout&&(0,i.o8)(D().data)&&setTimeout((()=>{s&&d()&&O().onLoadingSlow(T,t)}),t.loadingTimeout),m[T]=[r(L),(0,i.u3)()]),[n,a]=m[T],n=await n,c&&setTimeout(g,t.dedupingInterval),!m[T]||m[T][1]!==a)return c&&d()&&O().onDiscarded(T),!1;l.error=i.i_;const e=k[T];if(!(0,i.o8)(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return f(),c&&d()&&O().onDiscarded(T),!1;const u=D().data;l.data=o(u,n)?u:n,c&&d()&&O().onSuccess(n,T,t)}catch(e){g();const r=O(),{shouldRetryOnError:t}=r;r.isPaused()||(l.error=e,c&&d()&&(r.onError(e,T,r),(!0===t||(0,i.mf)(t)&&t(e))&&v()&&r.onErrorRetry(e,T,r,(e=>{const r=h[T];r&&r[0]&&r[0](i.sj.ERROR_REVALIDATE_EVENT,e)}),{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return s=!1,f(),!0}),[T,u]),G=(0,n.useCallback)(((...e)=>(0,i.BN)(u,p.current,...e)),[]);if((0,i.LI)((()=>{w.current=r,C.current=t,(0,i.o8)(q)||($.current=q)})),(0,i.LI)((()=>{if(!T)return;const e=z.bind(i.i_,s);let r=0;const t=(0,i.ko)(T,h,((t,n={})=>{if(t==i.sj.FOCUS_EVENT){const t=Date.now();O().revalidateOnFocus&&t>r&&v()&&(r=t+O().focusThrottleInterval,e())}else if(t==i.sj.RECONNECT_EVENT)O().revalidateOnReconnect&&v()&&e();else{if(t==i.sj.MUTATE_EVENT)return z();if(t==i.sj.ERROR_REVALIDATE_EVENT)return z(n)}}));return b.current=!1,p.current=T,_.current=!0,I({_k:L}),B&&((0,i.o8)(J)||i.W6?e():(0,i.kw)(e)),()=>{b.current=!0,t()}}),[T]),(0,i.LI)((()=>{let e;function r(){const r=(0,i.mf)(g)?g(D().data):g;r&&-1!==e&&(e=setTimeout(t,r))}function t(){D().error||!E&&!O().isVisible()||!R&&!O().isOnline()?r():z(s).then(r)}return r(),()=>{e&&(clearTimeout(e),e=-1)}}),[g,E,R,T]),(0,n.useDebugValue)(x),c&&(0,i.o8)(J)&&T){if(!i.w6&&i.W6)throw new Error("Fallback data is required when using suspense in SSR.");throw w.current=r,C.current=t,b.current=!1,(0,i.o8)(U)?z(s):U}return{mutate:G,get data(){return P.data=!0,x},get error(){return P.error=!0,U},get isValidating(){return P.isValidating=!0,Y},get isLoading(){return P.isLoading=!0,Z}}})))}}]);